<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Service Integration Guidelines</title>
    <link rel="stylesheet" href="../theme/bootstrap.min.css" />
    <link rel="stylesheet" href="../theme/pygments.css" />
    <link rel="stylesheet" href="../theme/main.css" />
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script src="../theme/jquery.min.js"></script>
    <script src="../theme/bootstrap.min.js"></script>
  </head>
  <body>
<nav class="navbar navbar-default navbar-static-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
<a class="navbar-brand" href="../index.html">Nuvola Player Development</a>    </div><!-- .navbar-header -->

<div class="collapse navbar-collapse" id="navbar-collapse-1">
  <ul class="nav navbar-nav">
            <li><a href="../index.html">Home</a></li>
            <li><a href="../core.html">Core</a></li>
            <li class="dropdown">
              <a href="../apps.html" class="dropdown-toggle" data-toggle="dropdown">Service Integrations <span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li><a href="../apps.html">Introduction</a></li>
                <li><a href="../apps/porting.html">Porting to Nuvola Player 3</a></li>
                <li><a href="../apps/api_reference.html">NuvolaKit 3.0 JavaScript API Reference</a></li>
                <li class="divider"></li>
                <li class="dropdown-header">Basic</li>
                <li><a href="../apps/tutorial.html">Service Integration Tutorial</a></li>
                <li><a href="../apps/guidelines.html">Service Integration Guidelines</a></li>
                <li><a href="../apps/distribute.html">Distribute Service Integration</a></li>
                <li class="divider"></li>
                <li class="dropdown-header">Advanced</li>
                <li><a href="../apps/guide.html">Full Service Integration Guide</a></li>
                <li><a href="../apps/url-filtering.html">URL Filtering (URL Sandbox)</a></li>
                <li><a href="../apps/configuration-and-session-storage.html">Configuration and session storage</a></li>
                <li><a href="../apps/initialization-and-preferences-forms.html">Initialization and Preferences Forms</a></li>
                <li><a href="../apps/variable-home-page-url.html">Web apps with a variable home page URL</a></li>
                <li><a href="../apps/custom-actions.html">Custom Actions</a></li>
              </ul>
            </li>
          </ul>
</div><!-- .navbar-collapse -->  </div>
</nav>    
    <div class="container">
      <div class="row">
        
  <div class="col-sm-12">
      <div class="page-header text-center">
        <h1 id="top">Service Integration Guidelines</h1>
      </div>
  </div>
  <div class="col-md-2 col-lg-3 sidebar">
      <p><strong>Contents</strong></p>
      <div class="toc">
<ul>
<li><a href="#rules">Rules</a></li>
<li><a href="#license">License</a></li>
<li><a href="#coding-style">Coding Style</a><ul>
<li><a href="#basics">Basics</a></li>
<li><a href="#naming">Naming</a></li>
<li><a href="#braces">Braces</a></li>
<li><a href="#spaces">Spaces</a></li>
</ul>
</li>
</ul>
</div>
    <span class="backtotop"><a href="#top">↑ Back to top ↑</a></span>
  </div>
  <div class="col-sm-12 col-md-10 col-lg-9">
    <p>If you would like to have your service integration <strong>maintained as a part of the Nuvola Player project
and distributed in the Nuvola Player repository</strong>, following rules apply.</p>
<h2 id="rules">Rules</h2>
<ol>
<li>
<p>Your work must have license approved by <a href="http://opensource.org/licenses">the Open Source Initiative</a>,
   preferably the same license as Nuvola Player (BSD 2-Clause "Simplified" or "FreeBSD" license).</p>
</li>
<li>
<p>The field <code>maintainer_link</code> of <code>metadata.json</code> must contain URL of your
   <a href="https://github.com">Github profile</a>. (You will be subscribed to bug reports related to your service
   integrations).</p>
</li>
<li>
<p>You must provide contact e-mail.</p>
</li>
<li>
<p>You must use a consistent coding style of <code>integrate.json</code>, preferably the coding style of
   Nuvola Player.</p>
</li>
<li>
<p>You must use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions_and_function_scope/Strict_mode">strict JavaScript mode</a> and <a href="http://markdalgleish.com/2011/03/self-executing-anonymous-functions/">self-executing anonymous function</a>.
   (See <a href="../apps/tutorial.html">tutorial</a>.)</p>
</li>
<li>
<p>You have to use Nuvola Player JavaScript API &gt;= 3.0.</p>
</li>
</ol>
<h2 id="license">License</h2>
<p>You should use the same license as Nuvola Player does (BSD 2-Clause "Simplified" or "FreeBSD"
license) unless you have severe reasons to choose different license. In that case you should stick
to the popular open-source licenses with strong communities:</p>
<ul>
<li><a href="http://opensource.org/licenses/Apache-2.0">Apache License 2.0</a></li>
<li><a href="http://opensource.org/licenses/BSD-3-Clause">BSD 3-Clause "New" or "Revised" license</a></li>
<li><a href="http://opensource.org/licenses/BSD-2-Clause">BSD 2-Clause "Simplified" or "FreeBSD" license</a></li>
<li><a href="http://opensource.org/licenses/gpl-license">GNU General Public License (GPL)</a></li>
<li><a href="http://opensource.org/licenses/lgpl-license">GNU Library or "Lesser" General Public License (LGPL)</a></li>
<li><a href="/licenses/MIT">MIT license</a></li>
<li><a href="/licenses/MPL-2.0">Mozilla Public License 2.0</a></li>
</ul>
<h2 id="coding-style">Coding Style</h2>
<p>Service integrations are maintained in separate repositories as more or less independent sub-projects.
Therefore, you can use different coding style that the main Nuvola Player project. However, your
coding style have to be consistent. You can get inspired by coding style of Nuvola Player:</p>
<h3 id="basics">Basics</h3>
<ul>
<li>Source lines may be up to 100 characters long.</li>
<li>Variables should be declared at the point where they are first needed rather than at the top of
    a block or function.</li>
</ul>
<h3 id="naming">Naming</h3>
<ul>
<li>Prototype objects ("classes") are named in camel case: <code>MediaPlayer</code>.</li>
<li>Constants (and values of enumerations) are all uppercase, with underscores between words: <code>CONSTANT_NAME</code></li>
<li>Other variables and method/function names are in camel case with the first letter lower-cased: <code>methodName()</code>, <code>myVariable</code>.</li>
<li>Usage of single-letter variables or abbreviations is discouraged except for temporary variables in loops (<code>i</code>, <code>j</code>, etc.).</li>
</ul>
<div class="codehilite"><pre><span class="c1">// Prototype name</span>
<span class="kd">var</span> <span class="nx">ConfigStorage</span> <span class="o">=</span> <span class="nx">Nuvola</span><span class="p">.</span><span class="nx">$prototype</span><span class="p">(</span><span class="nx">KeyValueStorage</span><span class="p">,</span> <span class="nx">SignalsMixin</span><span class="p">);</span>

<span class="c1">// Enumeration</span>
<span class="kd">var</span> <span class="nx">PlaybackState</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">UNKNOWN</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nx">PAUSED</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">PLAYING</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1">// Constant</span>
<span class="kd">var</span> <span class="nx">PI_VALUE</span> <span class="o">=</span> <span class="s2">"3.14"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">myVariable</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">myFunction</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){};</span>
</pre></div>
<h3 id="braces">Braces</h3>
<ul>
<li>Both opening and closing curly braces of code blocks appear on the new line. The code is more fluffy.</li>
<li>The opening curly brace of an object literal appears on the same line as a preceding assignment operator.</li>
<li>If body of <code>if</code>, <code>else</code>, <code>while</code> or <code>for</code> only one statement, it can be optionally surrounded by braces. However, it should always be on a new line with proper indentation.</li>
<li>If one branch of <code>if-else</code> block is braced, all should be braced.</li>
<li>To not put space between function name and opening brace.</li>
</ul>
<div class="codehilite"><pre><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span> <span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="p">...</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">==</span> <span class="mi">4</span><span class="p">)</span>
<span class="p">{</span>
    <span class="p">...</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="p">...</span>
<span class="p">}</span>

<span class="c1">// Preferred</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="nx">y</span> <span class="o">=</span> <span class="nx">x</span><span class="p">;</span>
<span class="k">else</span>
    <span class="nx">y</span> <span class="o">=</span> <span class="o">-</span><span class="nx">x</span><span class="p">;</span>

<span class="c1">// Also possible</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nx">y</span> <span class="o">=</span> <span class="nx">x</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="nx">y</span> <span class="o">=</span> <span class="o">-</span><span class="nx">x</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">try</span>
<span class="p">{</span>
    <span class="p">...</span>
<span class="p">}</span>
<span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span>
<span class="p">{</span>
    <span class="p">...</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s2">"Jiří"</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s2">"Janoušek"</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
<h3 id="spaces">Spaces</h3>
<ul>
<li>Indentation level is four spaces. Use a clever editor that can treat spaces as tabs, i.e. it
    inserts four spaces when you press TAB.</li>
<li>A blank line should be padded to the “natural” indentation level of the surrounding lines. </li>
<li>Don't put spaces between function name and opening brace.</li>
<li>Don't put spaces between variable name and opening square brace.</li>
<li>Keywords like <code>if</code>, <code>for</code>, <code>while</code> and <code>catch</code> are followed by a space and opening bracket.</li>
<li>Don't use inner spaces of brackets.</li>
<li>Use spaces around binary operators.</li>
<li>Don't use spaces around unary and increment/decrement operators (e.g. <code>++</code>, <code>--</code>, <code>!</code>, <code>!!</code>, <code>-</code>). </li>
</ul>
<div class="codehilite"><pre><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"foo"</span><span class="p">);</span>

<span class="nx">myArray</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>

<span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span>
    <span class="p">...</span>

<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="o">-</span><span class="nx">b</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="o">--</span><span class="nx">b</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">success</span> <span class="o">=</span> <span class="o">!</span><span class="nx">failed</span><span class="p">;</span>
</pre></div>

<div class="footer">
  <hr />
  <div class="panel panel-primary">
    <p class="panel-heading">
      Questions? Feedback?
    </p>
    <div class="panel-body">
      <p>
        Having trouble? We'd like to help!
      </p>
      <ul>
        <li>Search for information in the archives of
          <a href="https://groups.google.com/d/forum/nuvola-player-devel">the nuvola-player-devel
          mailing list</a>, or post a question.
        </li>
        <li>
          If you notice errors with this documentation, please
          <a href="https://github.com/tiliado/nuvolaplayer/issues">open a ticket and let us
          know</a>! Please only use the ticket tracker for criticisms and improvements on the docs.
        </li>
      </ul>
    </div>
  </div>
  <hr />
  <p class="text-center">
    Generated by <a href="http://getpelican.com/">Pelican</a>.
    Get <a href="https://github.com/tiliado/nuvolaplayer/tree/master/doc">source code</a>.
    Uses <a href="http://getbootstrap.com/">Bootstrap</a> theme
    <a href="http://bootswatch.com/united/">United</a>.
  </p>
</div>  </div> 
      </div>
    </div>
  </body>
</html>
